<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crash Game Analysis</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
</head>
<body>
    <div class="container">
        <div id="loading-indicator" class="hidden">Processing...</div>
        <h1>Crash Game Analysis</h1>
        <div class="controls">
            <label for="multiplier-input">Multiplier Threshold:</label>
            <input type="number" id="multiplier-input" value="2.1" step="0.1">
            <button id="update-button">Update</button>
        </div>

        <div class="tabs">
            <button class="tab-button active" data-tab="raw-data">Raw Data</button>
            <button class="tab-button" data-tab="analysis">Analysis & Graphs</button>
            <button class="tab-button" data-tab="predictive-analysis">Predictive Analysis</button>
        </div>

        <div id="raw-data" class="tab-content active">
            <h2>Raw Crash Data</h2>
            <div id="summary-stats"></div>
            <div id="raw-data-table"></div>
        </div>

        <div id="analysis" class="tab-content">
            <h2>Data Analysis</h2>
            <div class="charts">
                <div class="chart-container full-width">
                    <h3>Crashes Over Time</h3>
                    <canvas id="line-chart"></canvas>
                </div>
                <div class="chart-container full-width">
                    <h3 id="streak-chart-title">Streak Analysis (Above/Below 2.1x)</h3>
                    <canvas id="streak-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 id="pie-chart-title">Multiplier Below vs. Above 2.1x</h3>
                    <canvas id="pie-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Multiplier Distribution</h3>
                    <canvas id="bar-chart"></canvas>
                </div>
            </div>
        </div>

        <div id="predictive-analysis" class="tab-content">
            <h2>Predictive Analysis</h2>
            <div class="charts">
                <div class="chart-container full-width">
                    <h3>Multiplier Histogram</h3>
                    <canvas id="histogram-chart"></canvas>
                </div>
                <div class="chart-container full-width">
                    <h3>Rounds Since Last High Multiplier (>10x)</h3>
                    <canvas id="rounds-since-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Streak Frequency</h3>
                    <div id="streak-frequency-table"></div>
                </div>
                <div class="chart-container">
                    <h3>Empirical Probabilities</h3>
                    <div id="probability-table"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>